### [LB] Forward Proxy vs. Reverse Proxy

1. Proxy

   : 클라이언트와 서버 간의 중계 서버로, 통신을 대리 수행하는 서버이다.

   (캐시, 보안, 트래픽 분산 등 여러 장점을 가질 수 있다.)

2. Forward Proxy

   : 클라이언트와 인터넷 사이에 위치해 있고, 캐싱(클라이언트가 요청한 내용을 캐싱), 익명성(클라이언트가 보낸 요청을 감춤)의 효과를 얻을 수 있다.

3. Reverse Proxy

   : 인터넷과 서버 사이에 위치해 있고, 캐싱(클라이언트가 요청한 내용을 캐싱), 보안(서버 정보를 클라이언트로부터 숨김)의 효과를 얻을 수 있다. 



<br />



### HMAC방식

: Hash Message Authentication Code의 약자로, Sender와 Receiver 사이에 메시지 변조 여부를 확인하기 위한 메세지 인증 방식 사용

- Sender : Message 와 상호 교환된 키를 이용해 Mac과 Message를 전달

- Receiver : Message와 Mac을 수신 후 상호 교환된 키를 조합해 Mac을 생성한 후 수신한 Mac과 비교

- Hash : SHA256

  ![image](https://user-images.githubusercontent.com/42775225/138554607-18ffcfe1-4e3f-4df6-a4cb-159ff197d036.png)

  Flow : Sender와 Receiver 둘만 공유하고 있는 시크릿 키(대칭키)가 있다. Sender는 메세지를 보낼 때 해당 키로 encryption해서 보내고 Receiver는 해당 키로 decryption했을 때, decryption되면 믿을 수 있는 메세지이다.



<br />



### NCloud API

사용자들은 네이버 클라우드 API 엑세스 키를 메타 데이터로 넘겨줘야 한다.

1. REST API란

   : URL, Method, List of Headers, Body 

   - URL : 엔드 포인트 URL (서버, 스토리지, DB 등)
   - Method : GET, POST, PUT, DELETE
   - Header : 메타 데이터 (인증 등)
   - Body : 

   ![image](https://user-images.githubusercontent.com/42775225/138554500-b480f357-2c03-4c22-b07d-d07608b7db10.png)







### gRPC

- **서버-클라이언트**(server-client) 구조란 데이터를 저장하고 관리하는 서버 부분과 해당 서버에 접속하여 데이터를 열람하는 클라이언트 부분으로 구성된 네트워크 구조를 말한다.
- IPC란 프로세스 간의 통신 방법을 말하며,
  - Message Passing : 메세지 큐라고 하는 버퍼를 이용해서 메세지를 주고 받는 방법입니다.
  - Shared Memory : 공유 메모리를 두고, Producer-Consumer의 구조로 메세지를 주고 받는 방법입니다. 문제는 Race Condition이 생길 수 있습니다. > mutex, semaphore 로 예방합니다.
    - mutex : 오직 1개의 프로세스(또는 스레드)만 접근할 수 있음
    - semaphore : 세마포어의 변수 만큼의 프로세스(또는 스레드)가 접근 할 수 있음
    - monitor : 하나의 프로세스(애플리케이션)내에 다른 스레드 간에 동기화할 때 사용
  - socket : 네트워크 소켓을 이용하여 데이터 주고 받는 방법이다.
  - RPC : 다른 프로세스에 있는 함수를 자신의 함수처럼 호출해서 결과를 얻어 데이터를 주고 받는 방법입니다. 이 때, 클라이언트와 서버가 사용한 메모리의 주소가 다르기 때문에 스텁이라는 것을 이용해서 매개변수와 결과값을 변환해주는 과정이 필요함.
    - 마샬링 : 자바 객체를 범용적인 바이트 스트림으로 변환하는 것
    - 언마샬링 : 범용 바이트 파일을 자바 객체로 변환하는 것
  - REST : HTTP/1.1 기반으로 URI를 통해 모든 자원(Resource)을 명시하고 HTTP Method를 통해 처리하는 아키텍쳐 입니다. 자원을 그래도 표현하기 때문에 직관적이지만, REST는 일종의 스타일이지 표준이 아니기 때문에 parameter와 응답 값이 명시적이지 않다. 또한 HTTP 메소드의 형태가 제한적이기 때문에 세부 기능 구현에는 제약이 있습니다.
    - xml : XML은 html과 같이 tag 기반이지만 미리 정의된 태그가 없어(no pre-defined tags) 높은 확장성을 인정 받아 이기종간 데이터 전송의 표준이었으나, 다소 복잡하고 비효율적인 데이터 구조탓에 속도가 느리다는 단점이 있었습니다. 
    - json : 이런 효율 문제를 JSON이 간결한 Key-Value 구조 기반으로 해결하는 듯 하였으나, 제공되는 자료형의 한계로 파싱 후 추가 형변환이 필요한 경우가 많아졌습니다. 또한 두 타입 모두 string 기반이라 사람이 읽기 편하다는 장점은 있으나, 바꿔 말하면 데이터 전송 및 처리를 위해선 별도의 Serialization이 필요하다는 것을 의미합니다.
  - gRPC : HTTP/2를 사용한다는 것과 프로토콜 버퍼로 데이터를 전달한다는 점입니다. 데이터를 바이트로 바꾸는 과정을 통해서 text가 아니라 byte가 되어서 전달되는 데이터의 크기 자체가 줄어들게 됩니다. 그렇기에 Protocol Buffer의 기본 정보를 명세하는 Proto File만 배포하면 환경과 프로그램 언어에 구애받지 않고 서로 간의 데이터 통신이 가능합니다.
